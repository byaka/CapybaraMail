<!DOCTYPE html>
<html>
<head>
   <meta charset="utf-8">
   <link href="../css/main.css" rel="stylesheet" />
   <link href="../css/bootstrap.min.css" rel="stylesheet" />
   <link href="../css/bootstrap-theme.min.css" rel="stylesheet" />
   <link href="../css/bootstrap-callout.css" rel="stylesheet" />
   <link href="../css/bootstrap-fix.css" rel="stylesheet" />
   <link href="../css/prism.css" rel="stylesheet" />
   <link href="../css/tree.css" rel="stylesheet" />
   <script src="../js/jquery-2.1.1.min.js"></script>
   <script src="../js/bootstrap.min.js"></script>
   <script src="../js/prism.js"></script>
   <script src="../js/tree.js"></script>
   
</head>
<body>
<!-- <div id="navbar" class="navbar navbar-default navbar-fixed-top">
withNavBar

</div>
 -->

<div id="sidebar" class="sidebar" role="complementary">
   <h4>ToC of Package</h4>
   <div class="tree">
      <ul class=" "> <li class=" active"> <a href="module_api.html" class="btn btn-default btn-xs">api</a> </li>  </ul> <!-- this token been replaced on second iteration, so need to be escaped -->
   </div>

   <h4>ToC of Module</h4>
   <div class="tree interactive collapsable">
      <ul class=" "> <li class=""> <a href="#module_api" class="btn btn-default btn-xs"> Module api</a><ul class=""> <li class=""> <a href="#classesSection_module_api" class="btn btn-default btn-xs">Classes</a><ul class=""> <li class=""> <a href="#f1b63164a927c4cc97a4f3d2c03df75830b2859d88c2dfe3d2a9242698b2a6cf" class="btn btn-default btn-xs">ApiAccount</a><ul class=""> <li class=""> <a href="#publicMethodsSection_f1b63164a927c4cc97a4f3d2c03df75830b2859d88c2dfe3d2a9242698b2a6cf" class="btn btn-default btn-xs">Public methods</a><ul class=""> <li class=""> <a href="#632a02051cbce4426328c427069429ed8f06fc281a6a47cc7225e3aac41dddce" class="btn btn-default btn-xs">accountAdd</a> </li> <li class=""> <a href="#c5177dd438c374df9ae91631305a5ab92bef39c5000a6e54d9d3656a59b45a0e" class="btn btn-default btn-xs">connectorAdd</a> </li> <li class=""> <a href="#f1c2a05c4c6b029e270f5872a1cfb3337d5d30e258968b5bfb7261277ef6abf7" class="btn btn-default btn-xs">connectorList</a> </li> <li class=""> <a href="#295ffdfa50e4184e1b1cbe3552e1a1409b503f9b730c7f5902524bef943a2901" class="btn btn-default btn-xs">connectorSwitch</a> </li>  </ul> </li> <li class=""> <a href="#undocMethodsSection_f1b63164a927c4cc97a4f3d2c03df75830b2859d88c2dfe3d2a9242698b2a6cf" class="btn btn-default btn-xs">Un-documented methods</a><ul class=" collapsed"> <li class=""> <a href="#15cd0c6b003c29c97244bfcc63979f7b8785c09af3535f0e373219931a3c5df6" class="btn btn-default btn-xs">start</a> </li>  </ul> </li>  </ul> </li> <li class=""> <a href="#c814be27bde011c0d734b4c852404566222a9fed2fb15cccd02dc13ff61811dc" class="btn btn-default btn-xs">ApiLabel</a><ul class=""> <li class=""> <a href="#publicMethodsSection_c814be27bde011c0d734b4c852404566222a9fed2fb15cccd02dc13ff61811dc" class="btn btn-default btn-xs">Public methods</a><ul class=""> <li class=""> <a href="#6c32162bcef11d775f52e8b043a8abffcc90791c7af791e2058ea55d01947d70" class="btn btn-default btn-xs">labelList</a> </li> <li class=""> <a href="#0bb3350e2451f89ba4f8b8cba46ceba508a162f382522023bfbe537db61d3414" class="btn btn-default btn-xs">labelAdd</a> </li> <li class=""> <a href="#adc66309100d4af9fd2dae1348498185e4e0e98e39b99819e864e30bd47d4ca2" class="btn btn-default btn-xs">labelEdit</a> </li> <li class=""> <a href="#a590f1d2c63ef9de0c220189c3e09d1b6bf57726d63c16eb372da2fe26e25aca" class="btn btn-default btn-xs">labelMark</a> </li> <li class=""> <a href="#673f5ea9dcdf0a33703e0242c7b9907203bd92992f45ccf3d0909c1890506047" class="btn btn-default btn-xs">labelUnmark</a> </li>  </ul> </li> <li class=""> <a href="#undocMethodsSection_c814be27bde011c0d734b4c852404566222a9fed2fb15cccd02dc13ff61811dc" class="btn btn-default btn-xs">Un-documented methods</a><ul class=" collapsed"> <li class=""> <a href="#57cbbe6d0be90bd8582951fe2e93cc11fc69fd296c8009ef8afaf4909a3416a6" class="btn btn-default btn-xs">start</a> </li>  </ul> </li>  </ul> </li> <li class=""> <a href="#abe50aec0e4f29dc9c929737c2655a22fbebd599220ac22ba24d71c93e2396a4" class="btn btn-default btn-xs">ApiFilter</a><ul class=""> <li class=""> <a href="#publicMethodsSection_abe50aec0e4f29dc9c929737c2655a22fbebd599220ac22ba24d71c93e2396a4" class="btn btn-default btn-xs">Public methods</a><ul class=""> <li class=""> <a href="#f093ba2f6e1cbed59f7e95a7ae9950d14f420711e41dbd82c9965239c90f77ee" class="btn btn-default btn-xs">filterMessages</a> </li>  </ul> </li> <li class=""> <a href="#undocMethodsSection_abe50aec0e4f29dc9c929737c2655a22fbebd599220ac22ba24d71c93e2396a4" class="btn btn-default btn-xs">Un-documented methods</a><ul class=" collapsed"> <li class=""> <a href="#5f6a03fa552649eadee0c1b9cfd2b48d3b63cb59759483d90d1e5cc8be919de7" class="btn btn-default btn-xs">start</a> </li>  </ul> </li>  </ul> </li>  </ul> </li>  </ul> </li>  </ul>
   </div>
</div>

<div class="content">
   <h2 id="module_api"> <span class="label label-danger">module</span> api  </h2><section style="margin-top: 20px;" id="classesSection_module_api"> <button class="btn btn-warning" type="button" data-toggle="collapse" data-target="#classes_module_api"> Classes of module api</button> <div class="collapse in" id="classes_module_api"><div class="callout callout-warning"> <h4 id="f1b63164a927c4cc97a4f3d2c03df75830b2859d88c2dfe3d2a9242698b2a6cf"> <span class="section-type label label-warning">class</span> <code class="section-name language-python">ApiAccount()</code> <a class="headerlink text-warning" href="#f1b63164a927c4cc97a4f3d2c03df75830b2859d88c2dfe3d2a9242698b2a6cf" title="Permalink to ApiAccount">¶</a> </h4><section style="margin-top: 20px;" id="publicMethodsSection_f1b63164a927c4cc97a4f3d2c03df75830b2859d88c2dfe3d2a9242698b2a6cf"> <button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#publicMethods_f1b63164a927c4cc97a4f3d2c03df75830b2859d88c2dfe3d2a9242698b2a6cf"> Public methods of class ApiAccount</button> <div class="collapse in" id="publicMethods_f1b63164a927c4cc97a4f3d2c03df75830b2859d88c2dfe3d2a9242698b2a6cf"><div class="callout callout-primary"> <h4 id="632a02051cbce4426328c427069429ed8f06fc281a6a47cc7225e3aac41dddce"> <span class="section-type label label-primary">method_public</span> <code class="section-name language-python">accountAdd(login, password, descr=None, avatar=None, connector=None)</code> <a class="headerlink text-primary" href="#632a02051cbce4426328c427069429ed8f06fc281a6a47cc7225e3aac41dddce" title="Permalink to accountAdd">¶</a> </h4><h5 id="632a02051cbce4426328c427069429ed8f06fc281a6a47cc7225e3aac41dddce___descr" class="text-muted">Description <a class="headerlink text-muted" href="#632a02051cbce4426328c427069429ed8f06fc281a6a47cc7225e3aac41dddce___descr" title="Permalink to accountAdd' description">¶</a> </h5><pre><p>Add new account.</p>
</pre><h5 id="632a02051cbce4426328c427069429ed8f06fc281a6a47cc7225e3aac41dddce___params" class="text-muted">Parametrs <a class="headerlink text-muted" href="#632a02051cbce4426328c427069429ed8f06fc281a6a47cc7225e3aac41dddce___params" title="Permalink to accountAdd' parametrs">¶</a> </h5><table class="table table-condensed table-hover table-striped"><tbody> <tr> <td><strong>login</strong></td> <td><code>str</code></td> <td><samp style="white-space: pre-wrap"><p>Login (name) of account. This also will ID of account. Can contain any letters - it will be normalized automatically.</p>
</samp></td> </tr><tr> <td><strong>password</strong></td> <td><code>str</code></td> <td><samp style="white-space: pre-wrap"><p>Password for account.</p>
</samp></td> </tr><tr> <td><strong>descr</strong></td> <td><code>str, none</code></td> <td><samp style="white-space: pre-wrap"><p>Description of account (defaults to None).</p>
</samp></td> </tr><tr> <td><strong>avatar</strong></td> <td><code>str, none</code></td> <td><samp style="white-space: pre-wrap"><p>Encoded to base64 image (defaults to None).</p>
</samp></td> </tr><tr> <td><strong>connector</strong></td> <td><code>tuple, none</code></td> <td><samp style="white-space: pre-wrap"><p>Config for connectors (defaults to None).</p>
</samp></td> </tr> </tbody></table></div><div class="callout callout-primary"> <h4 id="c5177dd438c374df9ae91631305a5ab92bef39c5000a6e54d9d3656a59b45a0e"> <span class="section-type label label-primary">method_public</span> <code class="section-name language-python">connectorAdd(login, name, type, config, descr=None)</code> <a class="headerlink text-primary" href="#c5177dd438c374df9ae91631305a5ab92bef39c5000a6e54d9d3656a59b45a0e" title="Permalink to connectorAdd">¶</a> </h4><h5 id="c5177dd438c374df9ae91631305a5ab92bef39c5000a6e54d9d3656a59b45a0e___descr" class="text-muted">Description <a class="headerlink text-muted" href="#c5177dd438c374df9ae91631305a5ab92bef39c5000a6e54d9d3656a59b45a0e___descr" title="Permalink to connectorAdd' description">¶</a> </h5><pre><p>Add connector to account (usually connector needed for receive and send messages).</p>
</pre><h5 id="c5177dd438c374df9ae91631305a5ab92bef39c5000a6e54d9d3656a59b45a0e___params" class="text-muted">Parametrs <a class="headerlink text-muted" href="#c5177dd438c374df9ae91631305a5ab92bef39c5000a6e54d9d3656a59b45a0e___params" title="Permalink to connectorAdd' parametrs">¶</a> </h5><table class="table table-condensed table-hover table-striped"><tbody> <tr> <td><strong>login</strong></td> <td><code>str</code></td> <td><samp style="white-space: pre-wrap"><p>Login of account.</p>
</samp></td> </tr><tr> <td><strong>name</strong></td> <td><code>str</code></td> <td><samp style="white-space: pre-wrap"><p>Connector's name, will be ID of connector.</p>
</samp></td> </tr><tr> <td><strong>type</strong></td> <td><code>str</code></td> <td><samp style="white-space: pre-wrap"><p>Type of connector, this will be used for find correct connector.</p>
</samp></td> </tr><tr> <td><strong>config</strong></td> <td><code>dict</code></td> <td><samp style="white-space: pre-wrap"><p>Parameters for connector.</p>
</samp></td> </tr><tr> <td><strong>descr</strong></td> <td><code>str, none</code></td> <td><samp style="white-space: pre-wrap"><p>Description of new connector (defaults to None).</p>
</samp></td> </tr> </tbody></table></div><div class="callout callout-primary"> <h4 id="f1c2a05c4c6b029e270f5872a1cfb3337d5d30e258968b5bfb7261277ef6abf7"> <span class="section-type label label-primary">method_public</span> <code class="section-name language-python">connectorList()</code> <a class="headerlink text-primary" href="#f1c2a05c4c6b029e270f5872a1cfb3337d5d30e258968b5bfb7261277ef6abf7" title="Permalink to connectorList">¶</a> </h4><h5 id="f1c2a05c4c6b029e270f5872a1cfb3337d5d30e258968b5bfb7261277ef6abf7___descr" class="text-muted">Description <a class="headerlink text-muted" href="#f1c2a05c4c6b029e270f5872a1cfb3337d5d30e258968b5bfb7261277ef6abf7___descr" title="Permalink to connectorList' description">¶</a> </h5><pre><p>List all supported connectors with format of configs (it contain fields with <code>name</code>, <code>type</code> and <code>required</code> mark).</p>
</pre><h5 id="f1c2a05c4c6b029e270f5872a1cfb3337d5d30e258968b5bfb7261277ef6abf7___return" class="text-muted">Return <a class="headerlink text-muted" href="#f1c2a05c4c6b029e270f5872a1cfb3337d5d30e258968b5bfb7261277ef6abf7___return" title="Permalink to connectorList' returned value">¶</a> </h5><code>dict</code> <samp style="white-space: pre-wrap"></samp></div><div class="callout callout-primary"> <h4 id="295ffdfa50e4184e1b1cbe3552e1a1409b503f9b730c7f5902524bef943a2901"> <span class="section-type label label-primary">method_public</span> <code class="section-name language-python">connectorSwitch(login, name, to=None)</code> <a class="headerlink text-primary" href="#295ffdfa50e4184e1b1cbe3552e1a1409b503f9b730c7f5902524bef943a2901" title="Permalink to connectorSwitch">¶</a> </h4><h5 id="295ffdfa50e4184e1b1cbe3552e1a1409b503f9b730c7f5902524bef943a2901___descr" class="text-muted">Description <a class="headerlink text-muted" href="#295ffdfa50e4184e1b1cbe3552e1a1409b503f9b730c7f5902524bef943a2901___descr" title="Permalink to connectorSwitch' description">¶</a> </h5><pre><p>Switch active-status of specific connector.</p>
</pre><h5 id="295ffdfa50e4184e1b1cbe3552e1a1409b503f9b730c7f5902524bef943a2901___params" class="text-muted">Parametrs <a class="headerlink text-muted" href="#295ffdfa50e4184e1b1cbe3552e1a1409b503f9b730c7f5902524bef943a2901___params" title="Permalink to connectorSwitch' parametrs">¶</a> </h5><table class="table table-condensed table-hover table-striped"><tbody> <tr> <td><strong>login</strong></td> <td><code>str</code></td> <td><samp style="white-space: pre-wrap"><p>Login of account.</p>
</samp></td> </tr><tr> <td><strong>name</strong></td> <td><code>str</code></td> <td><samp style="white-space: pre-wrap"><p>Name of connector.</p>
</samp></td> </tr><tr> <td><strong>to</strong></td> <td><code>bool, none</code></td> <td><samp style="white-space: pre-wrap"><p>New active-status. If <code>None</code>, it will switched to opposite status (defaults to None).</p>
</samp></td> </tr> </tbody></table></div></div> </section><section style="margin-top: 20px;" id="undocMethodsSection_f1b63164a927c4cc97a4f3d2c03df75830b2859d88c2dfe3d2a9242698b2a6cf"> <button class="btn btn-default" type="button" data-toggle="collapse" data-target="#undocMethods_f1b63164a927c4cc97a4f3d2c03df75830b2859d88c2dfe3d2a9242698b2a6cf"> Un-documented methods of class ApiAccount</button> <div class="collapse " id="undocMethods_f1b63164a927c4cc97a4f3d2c03df75830b2859d88c2dfe3d2a9242698b2a6cf"><div class="callout callout-default"> <h4 id="15cd0c6b003c29c97244bfcc63979f7b8785c09af3535f0e373219931a3c5df6"> <span class="section-type label label-default">method_undoc</span> <code class="section-name language-python">start(self, **kwargs)</code> <a class="headerlink text-default" href="#15cd0c6b003c29c97244bfcc63979f7b8785c09af3535f0e373219931a3c5df6" title="Permalink to start">¶</a> </h4></div></div> </section></div><div class="callout callout-warning"> <h4 id="c814be27bde011c0d734b4c852404566222a9fed2fb15cccd02dc13ff61811dc"> <span class="section-type label label-warning">class</span> <code class="section-name language-python">ApiLabel()</code> <a class="headerlink text-warning" href="#c814be27bde011c0d734b4c852404566222a9fed2fb15cccd02dc13ff61811dc" title="Permalink to ApiLabel">¶</a> </h4><section style="margin-top: 20px;" id="publicMethodsSection_c814be27bde011c0d734b4c852404566222a9fed2fb15cccd02dc13ff61811dc"> <button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#publicMethods_c814be27bde011c0d734b4c852404566222a9fed2fb15cccd02dc13ff61811dc"> Public methods of class ApiLabel</button> <div class="collapse in" id="publicMethods_c814be27bde011c0d734b4c852404566222a9fed2fb15cccd02dc13ff61811dc"><div class="callout callout-primary"> <h4 id="6c32162bcef11d775f52e8b043a8abffcc90791c7af791e2058ea55d01947d70"> <span class="section-type label label-primary">method_public</span> <code class="section-name language-python">labelList(login, countAll=True, countWithLabel=False, byDialog=True)</code> <a class="headerlink text-primary" href="#6c32162bcef11d775f52e8b043a8abffcc90791c7af791e2058ea55d01947d70" title="Permalink to labelList">¶</a> </h4><h5 id="6c32162bcef11d775f52e8b043a8abffcc90791c7af791e2058ea55d01947d70___descr" class="text-muted">Description <a class="headerlink text-muted" href="#6c32162bcef11d775f52e8b043a8abffcc90791c7af791e2058ea55d01947d70___descr" title="Permalink to labelList' description">¶</a> </h5><pre><p>List all labels, also count messages or dialogs in each.</p>
</pre><h5 id="6c32162bcef11d775f52e8b043a8abffcc90791c7af791e2058ea55d01947d70___note" class="text-muted"><span>Note</span> <a class="headerlink text-muted" href="#6c32162bcef11d775f52e8b043a8abffcc90791c7af791e2058ea55d01947d70___attention" title="Permalink to labelList' note">¶</a> </h5><b><i></i></b><pre class="bg-info"><p>As labels may be nested, in this case there name will be joined with <code>/</code> and pass like this.</p>
</pre>
<hr><b><i></i></b><pre class="bg-info"><p>Parents not counts items in children.</p>
</pre>
<hr><b><i></i></b><pre class="bg-info"><p>This method don't shows labels with <code>special==True</code>.</p>
</pre><h5 id="6c32162bcef11d775f52e8b043a8abffcc90791c7af791e2058ea55d01947d70___params" class="text-muted">Parametrs <a class="headerlink text-muted" href="#6c32162bcef11d775f52e8b043a8abffcc90791c7af791e2058ea55d01947d70___params" title="Permalink to labelList' parametrs">¶</a> </h5><table class="table table-condensed table-hover table-striped"><tbody> <tr> <td><strong>login</strong></td> <td><code>str</code></td> <td><samp style="white-space: pre-wrap"><p>Login of account.</p>
</samp></td> </tr><tr> <td><strong>countAll</strong></td> <td><code>bool</code></td> <td><samp style="white-space: pre-wrap"><p>Enable counting of messages or dialogs (defaults to True).</p>
</samp></td> </tr><tr> <td><strong>countWithLabel</strong></td> <td><code>list</code></td> <td><samp style="white-space: pre-wrap"><p>Count messages that also have this label (defaults to False).</p>
</samp></td> </tr><tr> <td><strong>byDialog</strong></td> <td><code>bool</code></td> <td><samp style="white-space: pre-wrap"><p>Count dialogs or messages (defaults to True).</p>
</samp></td> </tr> </tbody></table><h5 id="6c32162bcef11d775f52e8b043a8abffcc90791c7af791e2058ea55d01947d70___return" class="text-muted">Return <a class="headerlink text-muted" href="#6c32162bcef11d775f52e8b043a8abffcc90791c7af791e2058ea55d01947d70___return" title="Permalink to labelList' returned value">¶</a> </h5><code>tuple</code> <samp style="white-space: pre-wrap"></samp><h5 id="6c32162bcef11d775f52e8b043a8abffcc90791c7af791e2058ea55d01947d70___example" class="text-muted">Example <a class="headerlink text-muted" href="#6c32162bcef11d775f52e8b043a8abffcc90791c7af791e2058ea55d01947d70___example" title="Permalink to labelList' example">¶</a> </h5><b><i></i></b><pre><code class="language-python">&gt;&gt;&gt; api.labelList('user1', countAll=True, countWithLabel=['unread'])
... (
{'name':'Label 1', 'descr':'Just non-nested label', 'color':'red', 'countAll':0, 'countWithLabel':{'unread':0}},
{'name':'Label 1/Label 2', 'descr':'Just nested label', 'color':'#fff', 'countAll':10, 'countWithLabel':{'unread':10}},
{'name':'Label 1/Label 2/Label 3', 'descr':'We need to go deeper', 'color':'green', 'countAll':100, 'countWithLabel':{'unread':3}},

)</code></pre></div><div class="callout callout-primary"> <h4 id="0bb3350e2451f89ba4f8b8cba46ceba508a162f382522023bfbe537db61d3414"> <span class="section-type label label-primary">method_public</span> <code class="section-name language-python">labelAdd(login, label, descr=None, color=None)</code> <a class="headerlink text-primary" href="#0bb3350e2451f89ba4f8b8cba46ceba508a162f382522023bfbe537db61d3414" title="Permalink to labelAdd">¶</a> </h4><h5 id="0bb3350e2451f89ba4f8b8cba46ceba508a162f382522023bfbe537db61d3414___descr" class="text-muted">Description <a class="headerlink text-muted" href="#0bb3350e2451f89ba4f8b8cba46ceba508a162f382522023bfbe537db61d3414___descr" title="Permalink to labelAdd' description">¶</a> </h5><pre><p>Add new label to account.</p>
</pre><h5 id="0bb3350e2451f89ba4f8b8cba46ceba508a162f382522023bfbe537db61d3414___note" class="text-muted"><span>Note</span> <a class="headerlink text-muted" href="#0bb3350e2451f89ba4f8b8cba46ceba508a162f382522023bfbe537db61d3414___attention" title="Permalink to labelAdd' note">¶</a> </h5><b><i></i></b><pre class="bg-info"><p>If you want to work with nested label - pass tuple of ierarchy or join it with <code>/</code> and pass like string.</p>
</pre><h5 id="0bb3350e2451f89ba4f8b8cba46ceba508a162f382522023bfbe537db61d3414___params" class="text-muted">Parametrs <a class="headerlink text-muted" href="#0bb3350e2451f89ba4f8b8cba46ceba508a162f382522023bfbe537db61d3414___params" title="Permalink to labelAdd' parametrs">¶</a> </h5><table class="table table-condensed table-hover table-striped"><tbody> <tr> <td><strong>login</strong></td> <td><code>str</code></td> <td><samp style="white-space: pre-wrap"><p>Login of account.</p>
</samp></td> </tr><tr> <td><strong>label</strong></td> <td><code>str, tuple</code></td> <td><samp style="white-space: pre-wrap"><p>Label name or full ierarchy of names (for nested labels).</p>
</samp></td> </tr><tr> <td><strong>descr</strong></td> <td><code>str, none</code></td> <td><samp style="white-space: pre-wrap"><p>Description for label (defaults to None).</p>
</samp></td> </tr><tr> <td><strong>color</strong></td> <td><code>str, none</code></td> <td><samp style="white-space: pre-wrap"><p>Any representation of color (defaults to None).</p>
</samp></td> </tr> </tbody></table></div><div class="callout callout-primary"> <h4 id="adc66309100d4af9fd2dae1348498185e4e0e98e39b99819e864e30bd47d4ca2"> <span class="section-type label label-primary">method_public</span> <code class="section-name language-python">labelEdit(login, label, descr=None, color=None)</code> <a class="headerlink text-primary" href="#adc66309100d4af9fd2dae1348498185e4e0e98e39b99819e864e30bd47d4ca2" title="Permalink to labelEdit">¶</a> </h4><h5 id="adc66309100d4af9fd2dae1348498185e4e0e98e39b99819e864e30bd47d4ca2___descr" class="text-muted">Description <a class="headerlink text-muted" href="#adc66309100d4af9fd2dae1348498185e4e0e98e39b99819e864e30bd47d4ca2___descr" title="Permalink to labelEdit' description">¶</a> </h5><pre><p>Edit existed label in account.</p>
</pre><h5 id="adc66309100d4af9fd2dae1348498185e4e0e98e39b99819e864e30bd47d4ca2___note" class="text-muted"><span>Note</span> <a class="headerlink text-muted" href="#adc66309100d4af9fd2dae1348498185e4e0e98e39b99819e864e30bd47d4ca2___attention" title="Permalink to labelEdit' note">¶</a> </h5><b><i></i></b><pre class="bg-info"><p>If you want to work with nested label - pass tuple of ierarchy or join it with <code>/</code> and pass like string.</p>
</pre><h5 id="adc66309100d4af9fd2dae1348498185e4e0e98e39b99819e864e30bd47d4ca2___params" class="text-muted">Parametrs <a class="headerlink text-muted" href="#adc66309100d4af9fd2dae1348498185e4e0e98e39b99819e864e30bd47d4ca2___params" title="Permalink to labelEdit' parametrs">¶</a> </h5><table class="table table-condensed table-hover table-striped"><tbody> <tr> <td><strong>login</strong></td> <td><code>str</code></td> <td><samp style="white-space: pre-wrap"><p>Login of account.</p>
</samp></td> </tr><tr> <td><strong>label</strong></td> <td><code>str, tuple</code></td> <td><samp style="white-space: pre-wrap"><p>Label name or full ierarchy of names (for nested labels).</p>
</samp></td> </tr><tr> <td><strong>descr</strong></td> <td><code>str, none</code></td> <td><samp style="white-space: pre-wrap"><p>Description for label (defaults to None).</p>
</samp></td> </tr><tr> <td><strong>color</strong></td> <td><code>str, none</code></td> <td><samp style="white-space: pre-wrap"><p>Any representation of color (defaults to None).</p>
</samp></td> </tr> </tbody></table></div><div class="callout callout-primary"> <h4 id="a590f1d2c63ef9de0c220189c3e09d1b6bf57726d63c16eb372da2fe26e25aca"> <span class="section-type label label-primary">method_public</span> <code class="section-name language-python">labelMark(login, msg, label, andClear=False)</code> <a class="headerlink text-primary" href="#a590f1d2c63ef9de0c220189c3e09d1b6bf57726d63c16eb372da2fe26e25aca" title="Permalink to labelMark">¶</a> </h4><h5 id="a590f1d2c63ef9de0c220189c3e09d1b6bf57726d63c16eb372da2fe26e25aca___descr" class="text-muted">Description <a class="headerlink text-muted" href="#a590f1d2c63ef9de0c220189c3e09d1b6bf57726d63c16eb372da2fe26e25aca___descr" title="Permalink to labelMark' description">¶</a> </h5><pre><p>Mark message with specific label(s) and optionally clear other labels from it.</p>
</pre><h5 id="a590f1d2c63ef9de0c220189c3e09d1b6bf57726d63c16eb372da2fe26e25aca___note" class="text-muted"><span>Note</span> <a class="headerlink text-muted" href="#a590f1d2c63ef9de0c220189c3e09d1b6bf57726d63c16eb372da2fe26e25aca___attention" title="Permalink to labelMark' note">¶</a> </h5><b><i></i></b><pre class="bg-info"><p>If you want to work with nested label - pass tuple of ierarchy or join it with <code>/</code> and pass like string.</p>
</pre><h5 id="a590f1d2c63ef9de0c220189c3e09d1b6bf57726d63c16eb372da2fe26e25aca___params" class="text-muted">Parametrs <a class="headerlink text-muted" href="#a590f1d2c63ef9de0c220189c3e09d1b6bf57726d63c16eb372da2fe26e25aca___params" title="Permalink to labelMark' parametrs">¶</a> </h5><table class="table table-condensed table-hover table-striped"><tbody> <tr> <td><strong>login</strong></td> <td><code>str</code></td> <td><samp style="white-space: pre-wrap"><p>Login of account.</p>
</samp></td> </tr><tr> <td><strong>msg</strong></td> <td><code>str</code></td> <td><samp style="white-space: pre-wrap"><p>Message's id.</p>
</samp></td> </tr><tr> <td><strong>label</strong></td> <td><code>str, list, tuple, none</code></td> <td><samp style="white-space: pre-wrap"><p>Label's ids or <code>None</code>.</p>
</samp></td> </tr><tr> <td><strong>andClear</strong></td> <td><code>bool</code></td> <td><samp style="white-space: pre-wrap"><p>Also clear all other labels (defaults to False).</p>
</samp></td> </tr> </tbody></table></div><div class="callout callout-primary"> <h4 id="673f5ea9dcdf0a33703e0242c7b9907203bd92992f45ccf3d0909c1890506047"> <span class="section-type label label-primary">method_public</span> <code class="section-name language-python">labelUnmark(login, msg, label)</code> <a class="headerlink text-primary" href="#673f5ea9dcdf0a33703e0242c7b9907203bd92992f45ccf3d0909c1890506047" title="Permalink to labelUnmark">¶</a> </h4><h5 id="673f5ea9dcdf0a33703e0242c7b9907203bd92992f45ccf3d0909c1890506047___descr" class="text-muted">Description <a class="headerlink text-muted" href="#673f5ea9dcdf0a33703e0242c7b9907203bd92992f45ccf3d0909c1890506047___descr" title="Permalink to labelUnmark' description">¶</a> </h5><pre><p>Remove specific label(s) from message.</p>
</pre><h5 id="673f5ea9dcdf0a33703e0242c7b9907203bd92992f45ccf3d0909c1890506047___note" class="text-muted"><span>Note</span> <a class="headerlink text-muted" href="#673f5ea9dcdf0a33703e0242c7b9907203bd92992f45ccf3d0909c1890506047___attention" title="Permalink to labelUnmark' note">¶</a> </h5><b><i></i></b><pre class="bg-info"><p>If you want to work with nested label - pass tuple of ierarchy or join it with <code>/</code> and pass like string.</p>
</pre><h5 id="673f5ea9dcdf0a33703e0242c7b9907203bd92992f45ccf3d0909c1890506047___params" class="text-muted">Parametrs <a class="headerlink text-muted" href="#673f5ea9dcdf0a33703e0242c7b9907203bd92992f45ccf3d0909c1890506047___params" title="Permalink to labelUnmark' parametrs">¶</a> </h5><table class="table table-condensed table-hover table-striped"><tbody> <tr> <td><strong>login</strong></td> <td><code>str</code></td> <td><samp style="white-space: pre-wrap"><p>Login of account.</p>
</samp></td> </tr><tr> <td><strong>msg</strong></td> <td><code>str</code></td> <td><samp style="white-space: pre-wrap"><p>Message's id.</p>
</samp></td> </tr><tr> <td><strong>label</strong></td> <td><code>str, list, tuple, none</code></td> <td><samp style="white-space: pre-wrap"><p>Label's ids or <code>None</code>.</p>
</samp></td> </tr> </tbody></table></div></div> </section><section style="margin-top: 20px;" id="undocMethodsSection_c814be27bde011c0d734b4c852404566222a9fed2fb15cccd02dc13ff61811dc"> <button class="btn btn-default" type="button" data-toggle="collapse" data-target="#undocMethods_c814be27bde011c0d734b4c852404566222a9fed2fb15cccd02dc13ff61811dc"> Un-documented methods of class ApiLabel</button> <div class="collapse " id="undocMethods_c814be27bde011c0d734b4c852404566222a9fed2fb15cccd02dc13ff61811dc"><div class="callout callout-default"> <h4 id="57cbbe6d0be90bd8582951fe2e93cc11fc69fd296c8009ef8afaf4909a3416a6"> <span class="section-type label label-default">method_undoc</span> <code class="section-name language-python">start(self, **kwargs)</code> <a class="headerlink text-default" href="#57cbbe6d0be90bd8582951fe2e93cc11fc69fd296c8009ef8afaf4909a3416a6" title="Permalink to start">¶</a> </h4></div></div> </section></div><div class="callout callout-warning"> <h4 id="abe50aec0e4f29dc9c929737c2655a22fbebd599220ac22ba24d71c93e2396a4"> <span class="section-type label label-warning">class</span> <code class="section-name language-python">ApiFilter()</code> <a class="headerlink text-warning" href="#abe50aec0e4f29dc9c929737c2655a22fbebd599220ac22ba24d71c93e2396a4" title="Permalink to ApiFilter">¶</a> </h4><section style="margin-top: 20px;" id="publicMethodsSection_abe50aec0e4f29dc9c929737c2655a22fbebd599220ac22ba24d71c93e2396a4"> <button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#publicMethods_abe50aec0e4f29dc9c929737c2655a22fbebd599220ac22ba24d71c93e2396a4"> Public methods of class ApiFilter</button> <div class="collapse in" id="publicMethods_abe50aec0e4f29dc9c929737c2655a22fbebd599220ac22ba24d71c93e2396a4"><div class="callout callout-primary"> <h4 id="f093ba2f6e1cbed59f7e95a7ae9950d14f420711e41dbd82c9965239c90f77ee"> <span class="section-type label label-primary">method_public</span> <code class="section-name language-python">filterMessages(login, dates=None, query=None, limitDates=10, limitResults=10, asDialogs=True, returnFull=False, onlyCount=False)</code> <a class="headerlink text-primary" href="#f093ba2f6e1cbed59f7e95a7ae9950d14f420711e41dbd82c9965239c90f77ee" title="Permalink to filterMessages">¶</a> </h4><h5 id="f093ba2f6e1cbed59f7e95a7ae9950d14f420711e41dbd82c9965239c90f77ee___descr" class="text-muted">Description <a class="headerlink text-muted" href="#f093ba2f6e1cbed59f7e95a7ae9950d14f420711e41dbd82c9965239c90f77ee___descr" title="Permalink to filterMessages' description">¶</a> </h5><pre><p>Фильтрует сообщения по заданным критериям. Результаты группируются по датам.</p>
</pre><h5 id="f093ba2f6e1cbed59f7e95a7ae9950d14f420711e41dbd82c9965239c90f77ee___note" class="text-muted"><span>Note</span> <a class="headerlink text-muted" href="#f093ba2f6e1cbed59f7e95a7ae9950d14f420711e41dbd82c9965239c90f77ee___attention" title="Permalink to filterMessages' note">¶</a> </h5><b><i></i></b><pre class="bg-info"><p>Параметр <code>limitResults</code> не может разбить одну дату. Это значит, что если передать <code>limitResults=10</code>, а за какуюто дату найдется 100 писем - то все 100 вернутся в результат и поиск завершится.</p>
</pre><h5 id="f093ba2f6e1cbed59f7e95a7ae9950d14f420711e41dbd82c9965239c90f77ee___params" class="text-muted">Parametrs <a class="headerlink text-muted" href="#f093ba2f6e1cbed59f7e95a7ae9950d14f420711e41dbd82c9965239c90f77ee___params" title="Permalink to filterMessages' parametrs">¶</a> </h5><table class="table table-condensed table-hover table-striped"><tbody> <tr> <td><strong>login</strong></td> <td><code>str</code></td> <td><samp style="white-space: pre-wrap"><p>Login of account.</p>
</samp></td> </tr><tr> <td><strong>dates</strong></td> <td><code>tuple, str, date, none</code></td> <td><samp style="white-space: pre-wrap"><p>Дата или даты, за которые ведется поиск.
Для передачи промежутков дат используйте синтаксис <code>(date1, 1, date2)</code>, а для обратного порядка <code>(date1, -1, date2)</code>.
Также возможно использовать формат <code>(date1, -1, True)</code> - это эквиваленто перебору дат начиная с указанной и вплоть до самой старой в базе (при положительном шаге в качестве даты-конца будет использована сама новая дата в базе). Второй аргумент в промежутках задает направление перебора и шаг.
Допускается использовать одновременно и промежутки дат и обычное перечисление.
Дата задается либо типом <code>date</code>, либо строкой в формате <code>yyyymmdd</code>, либо строкой-константой <code>today</code>, <code>yesterday</code>, <code>today+1</code>, <code>today-4</code> (и так далее).
Значение <code>None</code> эквивалетно <code>('today', -1, True)</code> (defaults to None).</p>
</samp></td> </tr><tr> <td><strong>query</strong></td> <td><code>dict</code></td> <td><samp style="white-space: pre-wrap"><p>Запрос, состоящий из вложенных словарей и списков. Элементы запроса имееют следующий формат:</p>
<ul>
<li><code>{'or':[..]}</code> являющийся логическим оператором <strong>или</strong> (где в список вложены иные операторы)</li>
<li><code>{'and':[..]}</code> являющийся логическим оператором <strong>и</strong></li>
<li><code>{'key':'key_name', 'match':'==', 'value':'value'}</code> задающий условие фильтрации.</li>
</ul>
<p>Поддерживается фильтрация по следующим ключам: <strong>from</strong>, <strong>to</strong>, <strong>label</strong>. Для атрибута <code>match</code> допускается также значение <code>!=</code>, ознаающиее <strong>не равно</strong> (defaults to None).</p>
</samp></td> </tr><tr> <td><strong>limitDates</strong></td> <td><code>int</code></td> <td><samp style="white-space: pre-wrap"><p>Ограничение на количество не пустых дней в результатах (defaults to 10).</p>
</samp></td> </tr><tr> <td><strong>limitResults</strong></td> <td><code>int</code></td> <td><samp style="white-space: pre-wrap"><p>Ограничение на количество сообщений (или диалогов при <code>asDialogs==True</code>) в результатах (defaults to 10).</p>
</samp></td> </tr><tr> <td><strong>asDialogs</strong></td> <td><code>bool</code></td> <td><samp style="white-space: pre-wrap"><p>Позволяет получать полностью диалоги вместо отдельных сообщений. При этом в результатах появится дополнительный массив с идентификаторами сообщений, непосредственно попавших под условия фильтрации (defaults to True).</p>
</samp></td> </tr><tr> <td><strong>returnFull</strong></td> <td><code>bool</code></td> <td><samp style="white-space: pre-wrap"><p>Позволяет получить сообщения целиком, а не только их идентификаторы (defaults to False).</p>
</samp></td> </tr><tr> <td><strong>onlyCount</strong></td> <td><code>bool</code></td> <td><samp style="white-space: pre-wrap"><p>Вместо самих диалогов (сообщений) возвращает количество.</p>
</samp></td> </tr> </tbody></table><h5 id="f093ba2f6e1cbed59f7e95a7ae9950d14f420711e41dbd82c9965239c90f77ee___return" class="text-muted">Return <a class="headerlink text-muted" href="#f093ba2f6e1cbed59f7e95a7ae9950d14f420711e41dbd82c9965239c90f77ee___return" title="Permalink to filterMessages' returned value">¶</a> </h5><code>list</code> <samp style="white-space: pre-wrap"></samp><h5 id="f093ba2f6e1cbed59f7e95a7ae9950d14f420711e41dbd82c9965239c90f77ee___example" class="text-muted">Example <a class="headerlink text-muted" href="#f093ba2f6e1cbed59f7e95a7ae9950d14f420711e41dbd82c9965239c90f77ee___example" title="Permalink to filterMessages' example">¶</a> </h5><b><i></i></b><pre><code class="language-python">{
'or':[
{'key':'label', 'value':'label1', 'match':'=='},
{'and':[
{'key':'label', 'value':'label2', 'match':'!='},
{'or':[
{'key':'from', 'value':'from1', 'match':'=='},
{'key':'from', 'value':'from2', 'match':'=='},
{'and':[
{'key':'label', 'value':'label3', 'match':'!='},
{'key':'from', 'value':'from3', 'match':'=='},
]},
{'key':'label', 'value':'label4', 'match':'=='},
]},
]},
{'key':'from', 'value':'from4', 'match':'=='},
{'key':'from', 'value':'from5', 'match':'=='},
]
}

# query matchs for this

msg.label == 'label1' or (
msg.label == 'label2' or(
msg.from == 'from1' or
msg.from == 'from2' or(
msg.label == 'label3' and msg.from == 'from3'
)
)
) or
msg.from == 'from4' or
msg.from == 'from5'</code></pre></div></div> </section><section style="margin-top: 20px;" id="undocMethodsSection_abe50aec0e4f29dc9c929737c2655a22fbebd599220ac22ba24d71c93e2396a4"> <button class="btn btn-default" type="button" data-toggle="collapse" data-target="#undocMethods_abe50aec0e4f29dc9c929737c2655a22fbebd599220ac22ba24d71c93e2396a4"> Un-documented methods of class ApiFilter</button> <div class="collapse " id="undocMethods_abe50aec0e4f29dc9c929737c2655a22fbebd599220ac22ba24d71c93e2396a4"><div class="callout callout-default"> <h4 id="5f6a03fa552649eadee0c1b9cfd2b48d3b63cb59759483d90d1e5cc8be919de7"> <span class="section-type label label-default">method_undoc</span> <code class="section-name language-python">start(self, **kwargs)</code> <a class="headerlink text-default" href="#5f6a03fa552649eadee0c1b9cfd2b48d3b63cb59759483d90d1e5cc8be919de7" title="Permalink to start">¶</a> </h4></div></div> </section></div></div> </section>
</div>

</body>
</html>